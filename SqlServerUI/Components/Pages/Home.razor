@page "/"

@using SqlServerInterrogator.Models

<PageTitle>Home</PageTitle>

<MudText Typo="Typo.h6">Server: @this.serverInfo?.ServerName</MudText>

<MudStack Row>
    <MudExpansionPanels>
        @if (this.serverInfo?.Databases?.Count > 0)
        {
            foreach (var database in this.serverInfo?.Databases!)
            {
                <MudExpansionPanel Text="@database.Name" Icon="@Icons.Material.Filled.Storage">
                    <MudList T="TableInfo" SelectionMode="@SelectionMode.SingleSelection" SelectedValueChanged="@this.SelectedTableChanged">
                        <MudListSubheader>
                            <MudText Typo="Typo.h6">Tables</MudText>
                        </MudListSubheader>
                        @foreach (var table in database.Tables)
                        {
                            <MudListItem Value="@table" Text="@table.Name" />
                        }
                    </MudList>
                </MudExpansionPanel>
            }
        }
    </MudExpansionPanels>
    <MudStack Row>
        
    </MudStack>
</MudStack>
